.TH xmstat 8 "22 Sep 2011" "" "ClusterTools2"
.\"
.SH NAME
xmstat \- log xentop output with timestamp
.\"
.SH SYNOPSIS
.B xmstat \fR[\fIlogfile\fR] [\fIinterval\fR]
.\"
.SH DESCRIPTION
\fBxmstat\fP logs the output of xentop with timestamp.
Makes only sense inside a Xen Dom0. 
Basically the script puts the output of "date +%F %T" in front of each line for the output of "xentop".
.br
Default logfile is /var/log/xmstat.log, default sample interval is 3 seconds.
.\"
.SH EXAMPLES
.TP
To run xmstat every 10 minutes for a 3 seconds sample, the crontab entry /etc/cron.d/xmstat could look like this:
.br
-03-58/10 * * * * root /usr/sbin/xmstat /var/log/xmstat.log
.TP
To rotate and compress the log from time to time, the logrotate entry /etc/logrotate.d/xmstat could look like this:
.br
/var/log/xmstat.log {
    compress
    dateext
    maxage 365
    rotate 99
    size +2M
    notifempty
    missingok
    copytruncate
.br
}
.\"
.SH EXIT STATUS
.B 0
Successful program execution.
.br
.B >0 
Usage, syntax or execution errors.
.\"
.SH FILES
.TP
/usr/sbin/xmstat
	the script itself.
.TP
/var/log/xmstat.log
	the default logfile.
.TP
/etc/cron.d/xmstat
	the cron entry.
.TP
/etc/logrotate.d/xmstat
	the logrotate entry.
.\"
.SH BUGS
Feedback is welcome, please use the project page at
.br
https://build.opensuse.org/package/show?package=ClusterTools2&project=home%3Afmherschel
.\"
.SH SEE ALSO
\fBxentop\fP(1),  \fBxm\fP(1), \fBvirsh\fP(1), \fBcrontab\fP(5), \fBlogrotate\fP(8), \fBClusterTools2\fP(7)
.\"
.\"
.SH COPYRIGHT
(c) 2011 L.Pinne, Germany.
.br
xmstat comes with ABSOLUTELY NO WARRANTY.
.br
For details see the GNU General Public License at
http://www.gnu.org/licenses/gpl.html
.\"
